---
import { Menu } from 'lucide-preact'

export interface Props {
  loginLink?: boolean
}

let { loginLink } = Astro.props
loginLink = loginLink || false
---

<nav id="navbar">
  <div
    style={{
      display: 'flex',
      alignItems: 'center',
      gap: '20px'
    }}>
    <div>
      <h1><a href="/">blot</a></h1>
    </div>
    <div class="navbar-links">
      <a href="/editor">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-pencil"
          ><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"
          ></path><path d="m15 5 4 4"></path></svg
        >
        <span>editor</span>
      </a>
      <a href="/guides">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-graduation-cap"
          ><path d="M22 10v6M2 10l10-5 10 5-10 5z"></path><path
            d="M6 12v5c3 3 9 3 12 0v-5"></path></svg
        >
        <span>guides</span>
      </a>
      <a href="/gallery">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-palette"
          ><circle cx="13.5" cy="6.5" r=".5"></circle><circle
            cx="17.5"
            cy="10.5"
            r=".5"></circle><circle cx="8.5" cy="7.5" r=".5"></circle><circle
            cx="6.5"
            cy="12.5"
            r=".5"></circle><path
            d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"
          ></path></svg
        >
        <span>gallery</span>
      </a>
      <a href="/assembly">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-wrench"
          ><path
            d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"
          ></path></svg
        >
        <span>assembly</span>
      </a>
      <a href="https://github.com/hackclub/blot" target="_blank">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-github"
          ><path
            d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
          ></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg
        >
        <span>source</span>
      </a>
    </div>
  </div>
  <div class="navbar-links">
    {loginLink === true && <a href="/~">my art</a>}
  </div>
</nav>

<nav id="navbar-dropdown">
  <div
    style={{
      display: 'flex',
      justifyContent: 'space-between',
      alignItems: 'center'
    }}>
    <h1><a href="/">blot</a></h1>
    <button class="navbar-dropdown-button">
      <Menu />
    </button>
  </div>
  <div class="navbar-dropdown-content">
    <div class="navbar-links" style={{ display: 'block' }}>
      <a href="/editor">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-pencil"
          ><path d="M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"
          ></path><path d="m15 5 4 4"></path></svg
        >
        <span>editor</span>
      </a>
      <a href="/guides">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-graduation-cap"
          ><path d="M22 10v6M2 10l10-5 10 5-10 5z"></path><path
            d="M6 12v5c3 3 9 3 12 0v-5"></path></svg
        >
        <span>guides</span>
      </a>
      <a href="/gallery">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-palette"
          ><circle cx="13.5" cy="6.5" r=".5"></circle><circle
            cx="17.5"
            cy="10.5"
            r=".5"></circle><circle cx="8.5" cy="7.5" r=".5"></circle><circle
            cx="6.5"
            cy="12.5"
            r=".5"></circle><path
            d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"
          ></path></svg
        >
        <span>gallery</span>
      </a>
      <a href="/assembly">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-wrench"
          ><path
            d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"
          ></path></svg
        >
        <span>assembly</span>
      </a>
      <a href="https://github.com/hackclub/blot" target="_blank">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
          class="lucide lucide-github"
          ><path
            d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
          ></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg
        >
        <span>source</span>
      </a>
      {loginLink === true && <a href="/~">my art</a>}
    </div>
  </div>
</nav>

<script>
  window.onload = () => {
    if (window.innerWidth < 767.98) {
      document
        .querySelector('.navbar-dropdown-button')
        .addEventListener('click', function () {
          const dropdown = document.querySelector('.navbar-dropdown-content')
          if (dropdown.style.display === 'none')
            dropdown.style.display = 'block'
          else dropdown.style.display = 'none'
        })
    }
  }
</script>
